/**
 * videojs-qualityselector
 * @version 0.0.4
 * @copyright 2018 Emmanuel Alves <manel.pb@gmail.com>
 * @license MIT
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videojsQualityselector=e()}}(function(){return function e(n,t,o){function r(a,l){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return r(t||e)},c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){(function(e){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(){function e(n){o(this,e),this.player=n,this.sources=[],this.callback=void 0,this.containerDropdownElement=void 0,this.defaults={}}return r(e,[{key:"onQualitySelect",value:function(e){var n=this;if(this.callback&&this.callback(e),this.sources){var t=this.sources.find(function(n){return n.format==e.code});t&&(this.player.src({src:t.src,type:t.type}),this.player.on("loadedmetadata",function(){n.player.play()}))}this.onToggleDropdown()}},{key:"onToggleDropdown",value:function(){-1==this.containerDropdownElement.className.indexOf("show")?this.containerDropdownElement.className+=" show":this.containerDropdownElement.className=this.containerDropdownElement.className.replace(" show","")}},{key:"onPlayerReady",value:function(e){var n=this;this.containerDropdownElement=document.createElement("div"),this.containerDropdownElement.className="vjs-quality-dropdown";var t=document.createElement("div");t.className="vjs-quality-container";var o=document.createElement("button");o.className="vjs-brand-quality-link",o.onclick=function(e){return n.onToggleDropdown(e)},o.innerText=e.text||"Quality";var r=document.createElement("ul");e.formats||(e.formats=[{code:"auto",name:"Auto"}]),e.onFormatSelected&&(this.callback=e.onFormatSelected),e.sources&&(this.sources=e.sources),e.formats.map(function(e){var t=document.createElement("li"),o=document.createElement("a");o.innerText=e.name,o.setAttribute("href","#"),o.addEventListener("click",function(t){t.preventDefault(),n.onQualitySelect(e)}),t.appendChild(o),r.appendChild(t)}),this.containerDropdownElement.appendChild(r),t.appendChild(this.containerDropdownElement),t.appendChild(o),this.player.controlBar.el().insertBefore(t,this.player.controlBar.fullscreenToggle.el()),this.player.addClass("vjs-qualityselector")}}]),e}(),s=function(e){var n=this;this.ready(function(){var t=n,o=new l(t);o.onPlayerReady(a.default.mergeOptions(o.defaults,e))})};a.default.registerPlugin("qualityselector",s),s.VERSION="0.0.4",t.default=s,n.exports=t.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});